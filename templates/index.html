{% extends '_base.html' %}


{% block content %}

<div class="container-fluid">

    {% for photo in COPY.photos %}
        <div class="col-sm-3 frame" data-toggle="modal" data-target="#myModal" data-caption="{{photo.caption}}"><img src="images/{{photo.url}}" class="img-responsive" alt="Responsive image">{{photo.caption}}</div>
    {% endfor %}

</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-caption">
            <div class="caption-text">Caption</div>
        </div>
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
    </div>
  </div>
</div>

{% endblock content %}

{% block extra_foot %}

<script>
    $('.frame').click(function(){
        var image = $(this).children().attr('src');
        var caption = $(this).data('caption');
        $('.modal-content').css('background-image', 'url(' + image + ')');
        $('.caption-text').text(caption);
    })
</script>

{% endblock extra_foot %}